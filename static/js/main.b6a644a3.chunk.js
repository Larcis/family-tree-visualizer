(this["webpackJsonpfamily-tree-visualizer"]=this["webpackJsonpfamily-tree-visualizer"]||[]).push([[0],{12:function(e,t){},17:function(e,t,n){},2:function(e,t,n){e.exports={root:"FamilyNode_root__1hHrR",inner:"FamilyNode_inner__1xDzR",male:"FamilyNode_male__2R5GT",female:"FamilyNode_female__2lC1q",isRoot:"FamilyNode_isRoot__Z2KzY",sub:"FamilyNode_sub__2DCfb"}},3:function(e,t,n){e.exports={root:"App_root__2Fnnc",header:"App_header__Y7gBZ",title:"App_title__SmBOn",wrapper:"App_wrapper__1km48",tree:"App_tree__3hcgm",reset:"App_reset__233Wr"}},39:function(e,t){},40:function(e,t){},41:function(e,t){},42:function(e,t){},43:function(e,t){},49:function(e,t,n){"use strict";n.r(t);n(17);var i=n(1),r=n.n(i),s=n(13),a=n.n(s),l=n(15),o=n(4),c=n.n(o),d=n(16),h=n(5),u=n.n(h),p=n(0),f=r.a.memo((function(e){let{min:t,max:n,captureWheel:r,className:s,style:a,children:l}=e;const o=Object(i.useRef)(null);return Object(i.useEffect)((()=>{const e=o.current;if(e)return Object(d.a)({element:e,minZoom:t,maxZoom:n,captureWheel:r})}),[t,n,r]),Object(p.jsx)("div",{ref:o,className:c()(s,u.a.root),style:a,children:Object(p.jsx)("div",{className:u.a.point,children:Object(p.jsx)("div",{className:u.a.canvas,children:l})})})})),b=n(7),m=n(2),j=n.n(m),g=r.a.memo((function(e){let t,{node:n,isRoot:i,onSubClick:r,style:s,showDead:a}=e;return t=n,t=t.extra,Object(p.jsxs)("div",{className:j.a.root,style:Object(b.a)(Object(b.a)({},s),{},{opacity:a||t.isAlive?1:0}),title:n.id,children:[Object(p.jsx)("div",{className:c()(j.a.inner,j.a[n.gender],i&&j.a.isRoot),children:Object(p.jsxs)("p",{style:{width:"100%",textAlign:"center"},children:[t.name,Object(p.jsx)("br",{}),t.surname,Object(p.jsx)("br",{}),t.birthDate,Object(p.jsx)("br",{}),!t.isAlive&&t.deathDate]})}),n.hasSubTree&&Object(p.jsx)("div",{className:c()(j.a.sub,j.a[n.gender]),onClick:()=>r(n.id)})]})})),x=n(14),y=n.n(x);const O=n(24),_=n(44);function v(e){let t="";for(;" "!==e[0];)t+=e[0],e.shift();return e.shift(),t.trim()}function k(e){let t=[...e],n="E"===t[0]?"male":"female";t.shift(),t.shift();let i=function(e){let t,n="",i=document.getElementById("relationKeywordBases").value.split(",");for(;;){t=!1;for(let n in i)if(-1!==e[0].search(i[n])){t=!0;break}if(!t)return e.shift(),n.trim();n+=e[0]+" ",e.shift()}}(t),r=v(t),s=v(t);for(;-1===t[0].search(/[0-9]+\/[0-9]+\/[0-9]+/g);)t.shift();let a=t[0];for(t.shift();-1===t[0].search("\xd6l\xfcm")&&-1===t[0].search("Sa\u011f");)t.shift();let l=-1===t[0].search("\xd6l\xfcm");t.shift();let o="N/A";return l||(o=t[0]),{id:_.generate(),gender:n,relation:[i],name:r,surname:s,birthDate:a,isAlive:l,deathDate:o}}function w(e,t){for(let n=0;n<e.length;n++)for(let i=0;i<e[n].relation.length;i++)if(e[n].relation[i]===t)return e[n]}function N(e,t,n){for(let i=0;i<e.length;i++)if(e[i].id===t){for(let t=0;t<e[i].siblings.length;t++)if(e[i].siblings[t].id===n)return;e[i].siblings.push({id:n,type:"blood"});break}}function A(e,t,n){for(let i=0;i<e.length;i++)if(e[i].id===n){for(let n=0;n<e[i].children.length;n++)N(e,e[i].children[n].id,t),N(e,t,e[i].children[n].id);return console.log(e[i]),e[i].children.push({id:t,type:"blood"}),!0}return!1}function D(e,t,n,i,r){let s,a,l=w(e,n),o=w(e,i),c=w(e,r);return s=o?o.id:null,a=c?c.id:null,!!l&&(function(e,t,n,i){for(let r=0;r<e.length;r++)if(e[r].id===t)return e[r].parents=[],n&&e[r].parents.push({id:n,type:"blood"}),i&&e[r].parents.push({id:i,type:"blood"}),!0;return!1}(t,l.id,s,a)||(t.push({id:l.id,extra:l,gender:l.gender,parents:[],siblings:[],spouses:[],children:[]}),a&&t[t.length-1].parents.push({id:a,type:"blood"}),s&&t[t.length-1].parents.push({id:s,type:"blood"})),o&&!A(t,l.id,o.id)&&(t.push({id:o.id,extra:o,gender:o.gender,parents:[],siblings:[],spouses:[],children:[{id:l.id,type:"blood"}]}),a&&t[t.length-1].spouses.push({id:a,type:"married"})),c&&!A(t,l.id,c.id)&&(t.push({id:c.id,extra:c,gender:c.gender,parents:[],siblings:[],spouses:[],children:[{id:l.id,type:"blood"}]}),s&&t[t.length-1].spouses.push({id:s,type:"married"})),!0)}function F(e){let{setData:t}=e;const[n,r]=Object(i.useState)();return n?Object(p.jsx)("div",{children:n}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("label",{htmlFor:"FileSelector",children:"PDF Y\xfckle  "}),Object(p.jsx)("input",{type:"file",accept:".pdf",id:"FileSelector",onChange:e=>{let n=e.target.files[0];var i=new FileReader;i.onload=function(e){var n=O.getDocument({data:e.target.result});r("\u0130\u015fleniyor..."),n.promise.then((async e=>{var n=[];for(let t=1;t<=e.numPages;t++){let i=await e.getPage(t),r=await i.getTextContent();n=n.concat(r.items.map((e=>e.str)))}let i=function(e){let t=[],n=[];for(let r=0;r<e.length;r++)"K"!==e[r]&&"E"!==e[r]||(n.push(t),t=[]),t.push(e[r]);n.push(t),n.shift(),n=n.map((e=>k(e)));let i=[];for(let r=0;r<n.length;r++){let e=!1;for(let t=0;t<i.length;t++)if(i[t].birthDate===n[r].birthDate&&i[t].name===n[r].name&&i[t].surname===n[r].surname){e=!0,i[t].relation.push(n[r].relation[0]);break}e||i.push(n[r])}return console.log(i),i}(n),s=function(e){let t=[],n=!0;D(e,t,"Kendisi","Babas\u0131","Annesi");let i,r=["Babas\u0131n\u0131n","Annesinin"],s=1;for(;n;){for(let a=0;a<Math.pow(2,s);a++){i="";let l=a;for(let e=0;e<s;e++)i+=r[1&l]+" ",l>>=1;i=i.trim(),console.log(i),n=D(e,t,i.substring(0,i.length-3),i+" Babas\u0131",i+" Annesi")}s++}return console.log(t),t}(i),a=w(i,"Babas\u0131n\u0131n Annesi").id;t(s,a,a),r("Haz\u0131r.")})).catch((e=>{console.log("PDF Load error: ",e),r("\u0130\u015fleme Hatas\u0131!")}))},i.onerror=function(e){console.log("Reader Error : "+e.type),r("Okuma Hatas\u0131!")},r("Okunuyor..."),i.readAsBinaryString(n)}})]})}O.GlobalWorkerOptions.workerSrc=y.a;var S=n(3),B=n.n(S);var P=r.a.memo((function(){const[e,t]=Object(i.useState)([]),[n,r]=Object(i.useState)(""),[s,a]=Object(i.useState)(""),[o,c]=Object(i.useState)(!0);const d=Object(i.useCallback)((()=>a(n)),[n]);return Object(p.jsxs)("div",{className:B.a.root,children:[Object(p.jsxs)("header",{className:B.a.header,children:[Object(p.jsx)("h1",{className:B.a.title,children:"E-devlet Soya\u011fac\u0131 g\xf6rselle\u015ftirme"}),Object(p.jsx)("div",{children:Object(p.jsx)("input",{type:"checkbox",onChange:e=>{c(e.target.checked)},defaultChecked:!0})}),Object(p.jsx)("div",{children:Object(p.jsx)("input",{type:"text",defaultValue:"Annesi,Babas\u0131,Kendisi",id:"relationKeywordBases"})}),Object(p.jsx)("div",{children:Object(p.jsx)(F,{setData:function(e,n,i){e&&(t([]),a(n),r(i),t(e))}})})]}),0==e.length&&Object(p.jsxs)("p",{style:{textAlign:"center",width:"100%"},children:[Object(p.jsx)("a",{href:"https://www.turkiye.gov.tr/nvi-alt-ust-soy-bilgisi-sorgulama",children:"Buradaki"}),' linki ziyaret ederek a\xe7\u0131lan pdf\'i "PDF olarak" kaydet se\xe7ene\u011fiyle kaydedin. Sonras\u0131nda siteye geri d\xf6nerek "PDF Y\xfckle" butonu ile pdf\'i y\xfckleyin.']}),e.length>0&&Object(p.jsx)(f,{min:.5,max:2.5,captureWheel:!0,className:B.a.wrapper,children:Object(p.jsx)(l.a,{nodes:e,rootId:s,width:120,height:130,className:B.a.tree,renderNode:e=>Object(p.jsx)(g,{showDead:o,node:e,isRoot:e.id===s,onSubClick:a,style:{width:120,height:130,transform:"translate(".concat(60*e.left,"px, ").concat(65*e.top,"px)")}},e.id)})}),s!==n&&Object(p.jsx)("div",{className:B.a.reset,onClick:d,children:"Reset"})]})}));a.a.render(Object(p.jsx)(P,{}),document.getElementById("root"))},5:function(e,t,n){e.exports={root:"PinchZoomPan_root__1xgys",point:"PinchZoomPan_point__3YKDz",canvas:"PinchZoomPan_canvas__HmFh0"}}},[[49,1,2]]]);
//# sourceMappingURL=main.b6a644a3.chunk.js.map